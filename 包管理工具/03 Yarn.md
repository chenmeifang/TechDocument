# [1. Yarn的安装理念以及如何破解依赖管理困境](https://www.bilibili.com/video/BV1rP411f7Wn?p=3&vd_source=a7089a0e007e4167b4a61ef53acc6f7e)

当npm还处在v3时期时，yarn横空出世

2min35s处

# 2. Yarn的出现是为了解决npm哪些方面的不足

Yarn 是由 Facebook 开发的一个 JavaScript 包管理工具，它的出现主要是为了解决 npm 在某些方面的不足。以下是 Yarn 解决的几个关键问题：

### 1. **安装速度**
Yarn 通过并行安装包来提高安装速度，而 npm 在较早版本中是串行安装。这意味着 Yarn 可以同时下载多个包，显著缩短安装时间。

### 2. **确定性安装**
Yarn 使用 `yarn.lock` 文件来锁定项目的依赖版本，从而确保在不同机器上安装时得到完全一致的依赖树。这种确定性安装方式避免了由于不同版本的依赖导致的问题，而 npm 在早期版本中没有类似的机制（虽然在 npm 5 及以后版本中也引入了 `package-lock.json`）。

### 3. **更好的离线支持**
Yarn 在第一次安装时会缓存所有下载的包，使得在后续的安装中即使没有网络连接也可以使用已缓存的包。npm 的离线支持相对较弱。

### 4. **工作空间功能**
Yarn 提供了工作空间（workspaces）功能，使得在 monorepo 项目中可以更方便地管理多个包的依赖和版本。这种功能在 npm 中的实现相对较为复杂。

### 5. **更友好的用户体验**
Yarn 的 CLI 输出信息更加友好、清晰，给开发者提供了更好的反馈。Yarn 还支持更好的命令行交互，允许用户更方便地处理依赖关系。

### 6. **安全性**
Yarn 在下载和安装包时使用 SHA-512 校验，确保下载的包是完整和未被篡改的。虽然 npm 也引入了一些安全性措施，但在早期版本中相对较弱。

### 总结
Yarn 的设计目标是改善 npm 的性能和用户体验，提供更高效、可靠的包管理解决方案。随着 npm 的不断发展，许多 Yarn 的特性也被逐渐引入到 npm 中，但 Yarn 依然因其独特的特性和优越的性能而受到许多开发者的欢迎。