{"version":3,"file":"js/main.14b61df7e1.js","mappings":"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","sources":["webpack://myreactapp/webpack/runtime/chunk loaded","webpack://myreactapp/./src/pages/FileEdit/index.css?1d11","webpack://myreactapp/./src/pages/FileEdit/index.jsx","webpack://myreactapp/./src/App.js","webpack://myreactapp/./src/index.js","webpack://myreactapp/./src/pages/FileEdit/index.css","webpack://myreactapp/./src/msg/msgCenter.ts","webpack://myreactapp/./src/msg/msgHandler.ts","webpack://myreactapp/./src/msg/socket.ts","webpack://myreactapp/./src/pages/FileList/index.tsx","webpack://myreactapp/./src/pages/Login/index.tsx","webpack://myreactapp/./src/undoRedoManager/undoRedoManager.ts","webpack://myreactapp/./src/utils/request.ts","webpack://myreactapp/webpack/bootstrap","webpack://myreactapp/webpack/runtime/compat get default export","webpack://myreactapp/webpack/runtime/define property getters","webpack://myreactapp/webpack/runtime/global","webpack://myreactapp/webpack/runtime/hasOwnProperty shorthand","webpack://myreactapp/webpack/runtime/make namespace object","webpack://myreactapp/webpack/runtime/jsonp chunk loading","webpack://myreactapp/webpack/runtime/nonce","webpack://myreactapp/webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!./index.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!./index.css\";\n       export default content && content.locals ? content.locals : undefined;\n","import React from \"react\";\r\nimport { useEffect, useRef, useState } from \"react\";\r\nimport DiffMatchPatch from \"diff-match-patch\";\r\n\r\nimport socket from \"../../msg/socket\";\r\nimport { sendMsg, createInsertTextActPair } from \"../../msg/msgCenter.ts\";\r\nimport { receiveMessage } from \"../../msg/msgHandler.ts\";\r\nimport { undo } from \"../../undoRedoManager/undoRedoManager.ts\";\r\n\r\nimport \"./index.css\";\r\n\r\n// 用于在新窗口显示编辑文件内容\r\nconst FileEdit = () => {\r\n  const editorRef = useRef(null);\r\n  const [prevCompressedMsgs, setPrevCompressedMsg] = useState([]);\r\n  let previousContent = editorRef?.current?.innerHTML || \"\";\r\n  const dmp = new DiffMatchPatch();\r\n  useEffect(() => {\r\n    socket.on(\"connect\", () => {\r\n      console.log(\"client connect\", socket.id); // x8WIv7-mJelg7on_ALbx\r\n    });\r\n    socket.on(\"edit\", (msgList) => {\r\n      // msg: [{start, len, cnt, type}]\r\n      // console.log(\"client监听到server发过来的消息\", msgList);\r\n      editorRef.current.innerHTML = receiveMessage(\r\n        msgList[0],\r\n        editorRef.current.innerHTML\r\n      );\r\n    });\r\n  });\r\n\r\n  // todo：需要在这里接收路由参数——docId\r\n  const handleInput = (event) => {\r\n    console.log(\"编辑了，需要发消息出去:\", event.target.innerHTML);\r\n    const diff = dmp.diff_main(previousContent, event.target.innerHTML);\r\n    previousContent = event.target.innerHTML;\r\n    // 编辑了，先把消息存储起来，等待特定时间后批量发送\r\n    // 1.compress continuous insert/delete text message\r\n    // 注意：不是压缩所有的消息，也不是所有的消息都要等待特定的时候后发送\r\n    const actPair = createInsertTextActPair(\r\n      getCaretCharacterOffset(event) - 1,\r\n      1,\r\n      diff[diff.length - 1][1]\r\n    );\r\n    // const msg = {\r\n    //   index: getCaretCharacterOffset(event),\r\n    //   len: 1,\r\n    //   cnt: diff[diff.length - 1][1],\r\n    //   type: \"insert\",\r\n    // };\r\n    const msg = {\r\n      msg: actPair.act,\r\n      rMsg: actPair.rAct,\r\n    };\r\n    sendMsg([msg]);\r\n  };\r\n\r\n  // 获取光标的偏移量\r\n  const getCaretCharacterOffset = (event) => {\r\n    let caretOffset = 0;\r\n    console.log(\"caretOffset:\", caretOffset);\r\n    const doc = event.target.ownerDocument;\r\n    const win = doc.defaultView;\r\n    const sel = win.getSelection();\r\n    if (sel.rangeCount) {\r\n      const range = sel.getRangeAt(0);\r\n      // todo: 先使用selection，看后面有啥问题，再改成range\r\n      caretOffset = sel.focusOffset;\r\n    }\r\n    return caretOffset;\r\n  };\r\n\r\n  const handleUndo = () => {\r\n    editorRef.current.innerHTML = undo(editorRef.current.innerHTML);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      查看文件\r\n      <button onClick={handleUndo}>undo</button>\r\n      <div\r\n        contentEditable\r\n        onInput={handleInput}\r\n        className=\"editor\"\r\n        ref={editorRef}\r\n        onMouseUp={getCaretCharacterOffset}\r\n      ></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FileEdit;\r\n","import React from 'react';\r\nimport { BrowserRouter as Router, Route, Switch, Link } from 'react-router-dom';\r\nimport Login from './pages/Login';\r\nimport FileList from './pages/FileList';\r\nimport FileEdit from './pages/FileEdit/index.jsx';\r\n\r\nconst App = () => {\r\n    return (\r\n        <Router>\r\n            {/* <Routes> */}\r\n            {/* 注册路由 */}\r\n            {/* <Switch> */}\r\n                <Route path=\"/login\" component={Login} />\r\n                <Route path=\"/fileList\" component={FileList} />\r\n                <Route path=\"/fileEdit\" component={FileEdit} />\r\n            {/* </Switch> */}\r\n            {/* </Routes> */}\r\n        </Router>\r\n    )\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport App from './App';\r\nimport ReactDOM from 'react-dom/client';\r\n// import { RouterProvider } from 'react-router-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\n\r\nimport router from './router';\r\n\r\n\r\nReactDOM.createRoot(document.getElementById('root')).render(\r\n    <App></App>\r\n    // <BrowserRouter router={router}></BrowserRouter>\r\n)\r\n\r\n\r\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `/* 需要在webpack中配置css相关的loader */\r\n.editor {\r\n  border: 1px solid red;\r\n  padding: 10px;\r\n  height: 400px;\r\n  width: 400px;\r\n  /* min-height: 200px; */\r\n  margin-top: 10px;\r\n}\r\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/pages/FileEdit/index.css\"],\"names\":[],\"mappings\":\"AAAA,8BAA8B;AAC9B;EACE,qBAAqB;EACrB,aAAa;EACb,aAAa;EACb,YAAY;EACZ,uBAAuB;EACvB,gBAAgB;AAClB\",\"sourcesContent\":[\"/* 需要在webpack中配置css相关的loader */\\r\\n.editor {\\r\\n  border: 1px solid red;\\r\\n  padding: 10px;\\r\\n  height: 400px;\\r\\n  width: 400px;\\r\\n  /* min-height: 200px; */\\r\\n  margin-top: 10px;\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createInsertTextActPair = exports.sendMsg = exports.sendOutMsgWithoutDealUndoRedo = void 0;\nvar socket_1 = __importDefault(require(\"./socket\"));\nvar undoRedoManager_1 = require(\"../undoRedoManager/undoRedoManager\");\n// 如果 prevCompressed 中的 msg 和 rMsg 被推断为 never[]，通常是因为 TypeScript 无法推断出这些属性的具体类型，或者你没有给它们赋予一个初始值\n// 要避免 never 类型的出现，可以通过以下几种方法：\n// 1. 明确声明数组的类型\nvar prevCompressed = {\n    msg: [],\n    rMsg: [],\n};\n/**\n * combine new message to old message\n * AB -> ABC -> ABCD\n * the new message is insert D, the old message is insert C\n * @param {*} newMsg\n * @param {*} oldMsg\n */\nvar combineMsg = function (newMsg, oldMsg) {\n    if (newMsg.idx === oldMsg.idx + oldMsg.len) {\n        // Insert text: A -> AB -> ABC\n        oldMsg.len += newMsg.len;\n        oldMsg.cnt += newMsg.cnt;\n        return true;\n    }\n    return false;\n};\n/**\n * 看是否是连续插入或者连续删除的操作\n * @param {*} msgList\n */\nvar isContinuedMsg = function (msgList) {\n    var msg = msgList[0];\n    if (msg.type === \"insert\") {\n        return true;\n    }\n};\n// Compress continuous insert/delete text message\nvar compressMsg = function (msgList, rMsgList) {\n    var msg = msgList[0];\n    if (prevCompressed.msg.length) {\n        combineMsg(msg, prevCompressed.msg[0]);\n    }\n    else {\n        prevCompressed.msg = msgList;\n        prevCompressed.rMsg = rMsgList;\n        setTimeout(function () {\n            flushMessage();\n        }, 5000);\n    }\n};\nvar flushMessage = function () {\n    sendOutMsg(prevCompressed.msg, prevCompressed.rMsg);\n    prevCompressed = {\n        msg: [],\n        rMsg: [],\n    };\n};\n/**\n * 真正使用socket发送消息的地方\n * @param {*} msgList\n */\nvar sendOutMsg = function (msgList, rMsgList) {\n    socket_1.default.emit(\"edit\", msgList);\n    (0, undoRedoManager_1.addUndo)(msgList, rMsgList);\n};\n// socket.emit和socket.broadcast.emit的区别：\n// socket.emit: 只发送给当前的客户端\n// socket.broadcast.emit: 发送给除当前客户端以外的所有其他客户端\nvar sendOutMsgWithoutDealUndoRedo = function (msgList) {\n    socket_1.default.emit(\"edit\", msgList);\n};\nexports.sendOutMsgWithoutDealUndoRedo = sendOutMsgWithoutDealUndoRedo;\n/**\n * 供外部使用\n * @param msgPairList:[{msg:xxx, rMsg: xxx}]\n * type MsgPair = { msg: Array<Message>; rMsg: Array<Message> };\n */\nvar sendMsg = function (msgPairList) {\n    var msgList = [];\n    var rMsgList = [];\n    var msg;\n    var rMsg;\n    for (var i = 0; i < msgPairList.length; i++) {\n        msg = msgPairList[i].msg;\n        rMsg = msgPairList[i].rMsg;\n        msgList.push(msg);\n        rMsgList.push(rMsg);\n    }\n    if (isContinuedMsg(msgList)) {\n        compressMsg(msgList, rMsgList);\n    }\n    else {\n        sendOutMsg(msgList, rMsgList);\n    }\n};\nexports.sendMsg = sendMsg;\nvar createInsertTextActPair = function (index, length, cnt) {\n    var act = createInsertTextAct(index, length, cnt);\n    var rAct = createDeleteTextAct(index, length, cnt);\n    return {\n        act: act,\n        rAct: rAct,\n    };\n};\nexports.createInsertTextActPair = createInsertTextActPair;\nvar createInsertTextAct = function (index, length, cnt) {\n    return {\n        idx: index,\n        len: length,\n        type: \"insert\",\n        cnt: cnt,\n    };\n};\nvar createDeleteTextAct = function (index, length, cnt) {\n    return {\n        idx: index,\n        len: length,\n        type: \"delete\",\n        cnt: cnt,\n    };\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.receiveMessage = void 0;\nvar receiveMessage = function (msg, originText) {\n    return processMessage(msg, originText);\n};\nexports.receiveMessage = receiveMessage;\nvar processMessage = function (msg, originText) {\n    var text = \"\";\n    if (msg.type === \"insert\") {\n        // 插入文字\n        text = originText.slice(0, msg.idx) + msg.cnt + originText.slice(msg.idx);\n    }\n    else if (msg.type === \"delete\") {\n        // 删除文字\n        text = originText.slice(0, msg.idx) + originText.slice(msg.idx + msg.len);\n    }\n    return text;\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar socket_io_client_1 = require(\"socket.io-client\");\nvar socket = (0, socket_io_client_1.io)(\"http://localhost:4000\");\nexports.default = socket;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar jsx_runtime_1 = require(\"react/jsx-runtime\");\nvar react_1 = require(\"react\");\nvar react_router_dom_1 = require(\"react-router-dom\");\nvar request_1 = require(\"../../utils/request\");\nvar FileList = function () {\n    var _a = (0, react_1.useState)([]), fileList = _a[0], setFileList = _a[1];\n    var inputRef = (0, react_1.useRef)(null);\n    var inputRef2 = (0, react_1.useRef)(null);\n    var history = (0, react_router_dom_1.useHistory)();\n    (0, react_1.useEffect)(function () {\n        // 向数据库请求文件列表\n        request_1.http\n            .get(\"/file/myList\")\n            .then(function (res) {\n            console.log(\"res:\", res);\n            console.log(\"document.cookie:\", document.cookie);\n            if (res.data.code === 200) {\n                setFileList(res.data.data);\n            }\n            else {\n                // 无效Token，跳转到登录页\n                history.replace(\"/login\");\n            }\n        })\n            .catch(function (err) {\n            console.log(\"err:\", err);\n        });\n    }, []);\n    var fileListRequest = function () {\n        request_1.http\n            .get(\"/file/myList\")\n            .then(function (res) {\n            console.log(\"res:\", res);\n            // console.log(\"document.cookie:\", document.cookie);\n            // if (res.data.code === 200) {\n            //   setFileList(res.data.data);\n            // } else {\n            //   // 无效Token，跳转到登录页\n            //   history.replace(\"/login\");\n            // }\n        })\n            .catch(function (err) {\n            console.log(\"err:\", err);\n        });\n    };\n    /**\n     * 发送请求，新建一个文件\n     * @param event\n     */\n    var createNewFile = function (event) {\n        console.log(\"event:\", event);\n        request_1.http\n            .post(\"/file/addFile\")\n            .then(function (res) {\n            console.log(\"res:\", res);\n        })\n            .catch(function (err) {\n            console.log(\"err:\", err);\n        });\n    };\n    var openFile = function () {\n        // todo：需要传递一下文档id\n        var url = \"/fileEdit\";\n        window.open(url);\n    };\n    /**\n     *\n     * @param isSlice 是否采用分片上传的形式\n     */\n    var onUploadClick = function (isSlice) {\n        var _a, _b;\n        // 'inputRef2.current' is possibly 'undefined'.ts(18048)\n        // (property) React.MutableRefObject<undefined>.current: undefined\n        if (isSlice) {\n            (_a = inputRef2 === null || inputRef2 === void 0 ? void 0 : inputRef2.current) === null || _a === void 0 ? void 0 : _a.click();\n        }\n        else {\n            (_b = inputRef === null || inputRef === void 0 ? void 0 : inputRef.current) === null || _b === void 0 ? void 0 : _b.click();\n        }\n    };\n    // 选择了一个文件的时候触发\n    var upload = function (event) {\n        var _a;\n        var file = (_a = event.target.files) === null || _a === void 0 ? void 0 : _a[0];\n        file && _upload(file);\n    };\n    var upload2 = function (event) {\n        var _a;\n        var file = (_a = event.target.files) === null || _a === void 0 ? void 0 : _a[0];\n        file && _upload2(file);\n    };\n    // 普通上传\n    var _upload = function (file) {\n        var form = new FormData();\n        form.append(\"file\", file);\n        // /api/local/entries\n        console.log(\"开始上传文档：\", new Date());\n        request_1.http\n            .post(\"/file/upload\", form)\n            .then(function (res) {\n            console.log(\"文件上传的结果res:\", res);\n            console.log(\"文档上传结束：\", new Date());\n        })\n            .catch(function (err) {\n            console.log(\"文件上传的结果err:\", err);\n        });\n    };\n    // 分片上传\n    var _upload2 = function (file) {\n        console.log(\"开始分片上传文档：\", new Date());\n        // 文档分块上传，自定义每个块的大小\n        var chunkSize = 1024 * 1024 * 400; // 1024*1024=1MB\n        // 块数\n        var totalChunks = Math.ceil(file.size / chunkSize);\n        var promises = [];\n        var uploadChunk = function (chunk, chunkNumber, totalChunks) {\n            // append(name: string, value: string | Blob, filename?: string): void;\n            var formData = new FormData();\n            formData.append(\"file\", chunk, file.name);\n            formData.append(\"chunkNumber\", chunkNumber);\n            formData.append(\"totalChunks\", totalChunks);\n            return request_1.http.post(\"/file/upload2\", formData);\n        };\n        for (var start = 0; start < file.size; start += chunkSize) {\n            var end = Math.min(start + chunkSize, file.size);\n            var chunk = file.slice(start, end);\n            var chunkNumber = start / chunkSize + 1;\n            promises.push(uploadChunk(chunk, chunkNumber.toString(), totalChunks.toString()));\n        }\n        Promise.all(promises).then(function (res) {\n            console.log(\"文件分片上传的结果：\", res);\n            console.log(\"文档分片上传结束：\", new Date());\n        });\n    };\n    // let eTag =\n    var staticRequest = function () {\n        fetch(\"http://localhost:3000/file/image.jpg\", {\n            headers: {\n            // \"Cache-Control\": \"no-cache\", // 根据需要设置 Cache-Control 的值\n            },\n        }).then(function (res) {\n            console.log(\"图片请求：\", res);\n        });\n        // http.get(\"/file/image.jpg\").then((res) => {\n        //   console.log(\"res:\", res);\n        // });\n    };\n    return ((0, jsx_runtime_1.jsxs)(\"div\", { children: [(0, jsx_runtime_1.jsx)(\"button\", { onClick: staticRequest, children: \"\\u53D1\\u9001\\u4E00\\u4E2A\\u9759\\u6001\\u6587\\u4EF6\\u8BF7\\u6C42\" }), (0, jsx_runtime_1.jsx)(\"button\", { onClick: fileListRequest, children: \"fileList\\u8BF7\\u6C42\" }), (0, jsx_runtime_1.jsx)(\"button\", { onClick: createNewFile, children: \"\\u65B0\\u5EFA\\u4E00\\u4E2A\\u6587\\u4EF6\" }), (0, jsx_runtime_1.jsx)(\"button\", { onClick: function () {\n                    onUploadClick(false);\n                }, children: \"\\u4E0A\\u4F20\\u4E00\\u4E2A\\u6587\\u4EF6\" }), (0, jsx_runtime_1.jsx)(\"button\", { onClick: function () {\n                    onUploadClick(true);\n                }, children: \"\\u5206\\u7247\\u4E0A\\u4F20\\u4E00\\u4E2A\\u6587\\u4EF6\" }), (0, jsx_runtime_1.jsx)(\"input\", { type: \"file\", ref: inputRef, onChange: upload }), (0, jsx_runtime_1.jsx)(\"input\", { type: \"file\", ref: inputRef2, onChange: upload2 }), fileList.map(function (file) {\n                return ((0, jsx_runtime_1.jsx)(\"div\", { onClick: openFile, children: file.title }, file.docId));\n            })] }));\n};\nexports.default = FileList;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar jsx_runtime_1 = require(\"react/jsx-runtime\");\nvar react_1 = require(\"react\");\nvar react_2 = require(\"react\");\n// import { useNavigate } from 'react-router-dom';\nvar react_router_dom_1 = require(\"react-router-dom\");\n// useNavigate应该是6版本的属性??\nvar request_1 = require(\"../../utils/request\");\nvar Login = function () {\n    var _a = (0, react_2.useState)(''), userName = _a[0], setUserName = _a[1];\n    var _b = (0, react_2.useState)(''), password = _b[0], setPassword = _b[1];\n    var _c = (0, react_2.useState)(0), count = _c[0], setCount = _c[1];\n    // const navigate = useNavigate();\n    var history = (0, react_router_dom_1.useHistory)();\n    var login = function () {\n        // 1.发送请求到后台，获取token\n        request_1.http.post('/users/login', {\n            username: userName,\n            pwd: password\n        }).then(function (response) {\n            console.log(response);\n            if (response.data.code == 200) {\n                var token = response.data.token;\n                // console.log('cookie0：', document.cookie);\n                // document.cookie = `zdocs_token=${token}`;\n                document.cookie = \"\".concat(token);\n                // console.log('cookie1：', document.cookie);\n                // 2.跳转到fileList页面\n                history.replace('/fileList');\n            }\n            else {\n                alert('Invalid credentials');\n            }\n        }).catch(function (error) {\n            console.log(error);\n        });\n    };\n    var changeUserName = function (event) {\n        setUserName(event.target.value);\n    };\n    var changePassword = function (event) {\n        setPassword(event.target.value);\n    };\n    var timeoutId = -1;\n    // 开启一个定时器\n    var openSetTimeout = function () {\n        timeoutId = setTimeout(function () {\n            console.log('开启了一个定时器');\n        }, 1000);\n    };\n    // 关闭一个定时器\n    var clearSetTimeout = function () {\n        console.log('关闭一个定时器');\n        clearTimeout(timeoutId);\n    };\n    // let intervalId: number | NodeJS.Timeout = -1;\n    // 重要：如果需要在多个渲染周期之间持久化非状态变量的值，可以使用useRef\n    //       useRef创建的对象在组件的整个生命周期内保持不变，不会因重新渲染而重置\n    var intervalRef = (0, react_1.useRef)(-1);\n    var openSetInterval = function () {\n        intervalRef.current = setInterval(function () {\n            console.log(new Date());\n        }, 1000);\n    };\n    var clearSetInterval = function () {\n        clearInterval(intervalRef.current);\n    };\n    var addCount = function () {\n        setCount(count + 1);\n    };\n    return ((0, jsx_runtime_1.jsxs)(jsx_runtime_1.Fragment, { children: [(0, jsx_runtime_1.jsx)(\"div\", { children: \"\\u767B\\u5F55\\u9875\\u9762\" }), (0, jsx_runtime_1.jsx)(\"label\", { children: \"\\u7528\\u6237\\u540D\\uFF1A\" }), (0, jsx_runtime_1.jsx)(\"input\", { type: \"text\", value: userName, onChange: changeUserName }), (0, jsx_runtime_1.jsx)(\"br\", {}), (0, jsx_runtime_1.jsx)(\"label\", { children: \"\\u5BC6\\u7801\\uFF1A\" }), (0, jsx_runtime_1.jsx)(\"input\", { type: \"password\", value: password, onChange: changePassword }), (0, jsx_runtime_1.jsx)(\"br\", {}), (0, jsx_runtime_1.jsx)(\"button\", { onClick: login, children: \"\\u767B\\u5F55\" }), (0, jsx_runtime_1.jsx)(\"br\", {}), (0, jsx_runtime_1.jsx)(\"button\", { onClick: openSetTimeout, children: \"\\u5F00\\u542F\\u4E00\\u4E2AsetTimeout\\u5B9A\\u65F6\\u5668\" }), (0, jsx_runtime_1.jsx)(\"br\", {}), (0, jsx_runtime_1.jsx)(\"button\", { onClick: clearSetTimeout, children: \"\\u5173\\u95ED\\u4E00\\u4E2AsetTimeout\\u5B9A\\u65F6\\u5668\" }), (0, jsx_runtime_1.jsx)(\"br\", {}), (0, jsx_runtime_1.jsx)(\"button\", { onClick: openSetInterval, children: \"\\u5F00\\u542F\\u4E00\\u4E2AsetInterval\\u5B9A\\u65F6\\u5668\" }), (0, jsx_runtime_1.jsx)(\"br\", {}), (0, jsx_runtime_1.jsx)(\"button\", { onClick: clearSetInterval, children: \"\\u5173\\u95ED\\u4E00\\u4E2AsetInterval\\u5B9A\\u65F6\\u5668\" }), (0, jsx_runtime_1.jsx)(\"br\", {}), (0, jsx_runtime_1.jsx)(\"button\", { onClick: addCount, children: \"count++\" }), (0, jsx_runtime_1.jsxs)(\"div\", { children: [\"count: \", count] })] }));\n};\nexports.default = Login;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.undo = exports.addUndo = void 0;\nvar msgCenter_1 = require(\"../msg/msgCenter\");\nvar msgHandler_1 = require(\"../msg/msgHandler\");\nvar stack = [];\nvar index = 0;\nvar undo = function (originText) {\n    var action = stack[index];\n    index--;\n    var msgList = action.undo;\n    var text = (0, msgHandler_1.receiveMessage)(msgList[0], originText);\n    (0, msgCenter_1.sendOutMsgWithoutDealUndoRedo)(msgList);\n    return text;\n};\nexports.undo = undo;\nvar redo = function () {\n    //\n};\nvar addUndo = function (msgList, rMsgList) {\n    var action = {\n        undo: [],\n        redo: [],\n    };\n    action.undo = rMsgList;\n    action.redo = msgList;\n    stack.push(action);\n    index = stack.length - 1;\n};\nexports.addUndo = addUndo;\nvar addRedo = function () { };\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.http = void 0;\nvar axios_1 = __importDefault(require(\"axios\"));\n// 创建实例时配置默认值\nvar http = axios_1.default.create({\n    baseURL: 'http://localhost:3000',\n    withCredentials: true\n});\nexports.http = http;\n// 添加请求拦截器\nhttp.interceptors.request.use(function (config) {\n    // 在发送请求之前做些什么\n    console.log('config:', config);\n    // 设置请求头中的Authorization字段\n    config.headers.setAuthorization(document.cookie);\n    // 查看withCredentials属性————结果是undefined——请求中未看到cookie\n    // 验证设置withCredential属性后，请求中是否会携带cookie————结果请求失败。报以下错误：\n    // Access to XMLHttpRequest at 'http://localhost:3000/file/myList' from origin 'http://localhost:8080' has been blocked by CORS policy: \n    // Response to preflight request doesn't pass access control check: The value of the 'Access-Control-Allow-Credentials' header in the response is '' which must be 'true' when the request's credentials mode is 'include'. \n    // The credentials mode of requests initiated by the XMLHttpRequest is controlled by the withCredentials attribute.\n    // 错误解释：如果在发起请求时设置了'withCredentials: true', 服务器必须在响应中设置'Access-Control-Allow-Credentials'为true。(表明服务器端允许客户端发送过来的请求中包含cookie)\n    // 验证结果：前端设置withCredential属性为true，以及后端设置'Access-Control-Allow-Credentials'为true后, 请求头中会携带cookie\n    // config.headers['Cache-Control'] = 'no-cache'; // 你可以根据需要设置具体的值\n    return config;\n}, function (error) {\n    // 对请求错误做些什么\n    return Promise.reject(error);\n});\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t792: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkmyreactapp\"] = self[\"webpackChunkmyreactapp\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","__webpack_require__.nc = undefined;","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [377], () => (__webpack_require__(4822)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","locals","_editorRef$current","editorRef","useRef","_useState2","useState","previousContent","current","innerHTML","dmp","DiffMatchPatch","useEffect","socket","on","console","log","id","msgList","receiveMessage","getCaretCharacterOffset","event","caretOffset","sel","target","ownerDocument","defaultView","getSelection","rangeCount","getRangeAt","focusOffset","React","onClick","undo","contentEditable","onInput","diff","diff_main","actPair","createInsertTextActPair","length","msg","act","rMsg","rAct","sendMsg","className","ref","onMouseUp","Router","Route","path","component","Login","FileList","FileEdit","ReactDOM","document","getElementById","render","App","___CSS_LOADER_EXPORT___","push","module","__importDefault","this","mod","__esModule","Object","defineProperty","exports","value","sendOutMsgWithoutDealUndoRedo","socket_1","undoRedoManager_1","prevCompressed","sendOutMsg","rMsgList","default","emit","addUndo","msgPairList","i","type","isContinuedMsg","newMsg","oldMsg","idx","len","cnt","setTimeout","compressMsg","index","createInsertTextAct","createDeleteTextAct","originText","processMessage","text","slice","io","jsx_runtime_1","react_1","react_router_dom_1","request_1","_a","fileList","setFileList","inputRef","inputRef2","history","useHistory","http","get","then","res","cookie","data","code","replace","catch","err","openFile","window","open","onUploadClick","isSlice","_b","click","jsxs","children","jsx","fetch","headers","post","onChange","file","files","form","FormData","append","Date","_upload","chunkSize","totalChunks","Math","ceil","size","promises","uploadChunk","chunk","chunkNumber","formData","name","start","end","min","toString","Promise","all","_upload2","map","title","docId","react_2","userName","setUserName","password","setPassword","_c","count","setCount","timeoutId","intervalRef","Fragment","username","pwd","response","token","concat","alert","error","clearTimeout","setInterval","clearInterval","msgCenter_1","msgHandler_1","stack","action","redo","create","baseURL","withCredentials","interceptors","request","use","config","setAuthorization","reject","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","call","m","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","keys","every","key","splice","r","n","getter","d","a","definition","o","enumerable","g","globalThis","Function","e","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","forEach","bind","nc","__webpack_exports__"],"sourceRoot":""}