{"version":3,"file":"js/main.js","mappings":"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","sources":["webpack://myreactapp/webpack/runtime/chunk loaded","webpack://myreactapp/./src/pages/FileEdit/index.jsx","webpack://myreactapp/./src/App.js","webpack://myreactapp/./src/index.js","webpack://myreactapp/./src/components/Modal.tsx","webpack://myreactapp/./src/components/ToolBar.tsx","webpack://myreactapp/./src/msg/msgCenter.ts","webpack://myreactapp/./src/msg/msgHandler.ts","webpack://myreactapp/./src/msg/socket.ts","webpack://myreactapp/./src/pages/FileList/index.tsx","webpack://myreactapp/./src/pages/Login/index.tsx","webpack://myreactapp/./src/undoRedoManager/undoRedoManager.ts","webpack://myreactapp/./src/utils/request.ts","webpack://myreactapp/webpack/bootstrap","webpack://myreactapp/webpack/runtime/compat get default export","webpack://myreactapp/webpack/runtime/define property getters","webpack://myreactapp/webpack/runtime/global","webpack://myreactapp/webpack/runtime/hasOwnProperty shorthand","webpack://myreactapp/webpack/runtime/make namespace object","webpack://myreactapp/webpack/runtime/jsonp chunk loading","webpack://myreactapp/webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","import React from \"react\";\r\nimport { useEffect, useRef, useState } from \"react\";\r\nimport DiffMatchPatch from \"diff-match-patch\";\r\n\r\nimport socket from \"../../msg/socket\";\r\nimport { sendMsg, createInsertTextActPair } from \"../../msg/msgCenter.ts\";\r\nimport { receiveMessage } from \"../../msg/msgHandler.ts\";\r\nimport { undo } from \"../../undoRedoManager/undoRedoManager.ts\";\r\nimport ToolBar from \"../../components/ToolBar.tsx\";\r\nimport \"./index.css\";\r\n\r\n// 用于在新窗口显示编辑文件内容\r\nconst FileEdit = () => {\r\n  const editorRef = useRef(null);\r\n  const [prevCompressedMsgs, setPrevCompressedMsg] = useState([]);\r\n  let previousContent = editorRef?.current?.innerHTML || \"\";\r\n  const dmp = new DiffMatchPatch();\r\n  useEffect(() => {\r\n    socket.on(\"connect\", () => {\r\n      console.log(\"client connect\", socket.id); // x8WIv7-mJelg7on_ALbx\r\n    });\r\n    socket.on(\"edit\", (msgList) => {\r\n      // msg: [{start, len, cnt, type}]\r\n      // console.log(\"client监听到server发过来的消息\", msgList);\r\n      editorRef.current.innerHTML = receiveMessage(\r\n        msgList[0],\r\n        editorRef.current.innerHTML\r\n      );\r\n    });\r\n  });\r\n\r\n  // todo：需要在这里接收路由参数——docId\r\n  const handleInput = (event) => {\r\n    console.log(\"编辑了，需要发消息出去:\", event.target.innerHTML);\r\n    const diff = dmp.diff_main(previousContent, event.target.innerHTML);\r\n    previousContent = event.target.innerHTML;\r\n    // 编辑了，先把消息存储起来，等待特定时间后批量发送\r\n    // 1.compress continuous insert/delete text message\r\n    // 注意：不是压缩所有的消息，也不是所有的消息都要等待特定的时候后发送\r\n    const actPair = createInsertTextActPair(\r\n      getCaretCharacterOffset(event) - 1,\r\n      1,\r\n      diff[diff.length - 1][1]\r\n    );\r\n    // const msg = {\r\n    //   index: getCaretCharacterOffset(event),\r\n    //   len: 1,\r\n    //   cnt: diff[diff.length - 1][1],\r\n    //   type: \"insert\",\r\n    // };\r\n    const msg = {\r\n      msg: actPair.act,\r\n      rMsg: actPair.rAct,\r\n    };\r\n    sendMsg([msg]);\r\n  };\r\n\r\n  // 获取光标的偏移量\r\n  const getCaretCharacterOffset = (event) => {\r\n    let caretOffset = 0;\r\n    console.log(\"caretOffset:\", caretOffset);\r\n    const doc = event.target.ownerDocument;\r\n    const win = doc.defaultView;\r\n    const sel = win.getSelection();\r\n    if (sel.rangeCount) {\r\n      const range = sel.getRangeAt(0);\r\n      // todo: 先使用selection，看后面有啥问题，再改成range\r\n      caretOffset = sel.focusOffset;\r\n    }\r\n    return caretOffset;\r\n  };\r\n\r\n  const handleUndo = () => {\r\n    editorRef.current.innerHTML = undo(editorRef.current.innerHTML);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <ToolBar></ToolBar>\r\n      查看文件\r\n      <button onClick={handleUndo}>undo</button>\r\n      <div\r\n        contentEditable\r\n        onInput={handleInput}\r\n        className=\"editor\"\r\n        ref={editorRef}\r\n        onMouseUp={getCaretCharacterOffset}\r\n      ></div>\r\n      假装有很多内容 假装有很多内容 假装有很多内容 假装有很多内容 假装有很多内容\r\n      假装有很多内容假装有很多内容 假装有很多内容假装有很多内容 假装有很多内容\r\n      假装有很多内容 假装有很多内容 假装有很多内容 假装有很多内容假装有很多内容\r\n      假装有很多内容 假装有很多内容 假装有很多内容 假装有很多内容 假装有很多内容\r\n      假装有很多内容 假装有很多内容假装有很多内容 假装有很多内容假装有很多内容\r\n      假装有很多内容 假装有很多内容 假装有很多内容 假装有很多内容\r\n      假装有很多内容假装有很多内容 假装有很多内容假装有很多内容 假装有很多内容\r\n      假装有很多内容 假装有很多内容 假装有很多内容 假装有很多内容假装有很多内容\r\n      假装有很多内容假装有很多内容 假装有很多内容 假装有很多内容 假装有很多内容\r\n      假装有很多内容 假装有很多内容假装有很多内容 假装有很多内容假装有很多内容\r\n      假装有很多内容 假装有很多内容 假装有很多内容 假装有很多内容\r\n      假装有很多内容假装有很多内容 假装有很多内容假装有很多内容 假装有很多内容\r\n      假装有很多内容 假装有很多内容 假装有很多内容 假装有很多内容假装有很多内容\r\n      假装有很多内容假装有很多内容 假装有很多内容 假装有很多内容 假装有很多内容\r\n      假装有很多内容 假装有很多内容假装有很多内容 假装有很多内容假装有很多内容\r\n      假装有很多内容 假装有很多内容 假装有很多内容 假装有很多内容\r\n      假装有很多内容假装有很多内容 假装有很多内容假装有很多内容 假装有很多内容\r\n      假装有很多内容 假装有很多内容 假装有很多内容 假装有很多内容假装有很多内容\r\n      假装有很多内容假装有很多内容 假装有很多内容 假装有很多内容 假装有很多内容\r\n      假装有很多内容 假装有很多内容假装有很多内容 假装有很多内容假装有很多内容\r\n      假装有很多内容 假装有很多内容 假装有很多内容 假装有很多内容\r\n      假装有很多内容假装有很多内容 假装有很多内容假装有很多内容 假装有很多内容\r\n      假装有很多内容 假装有很多内容 假装有很多内容 假装有很多内容假装有很多内容\r\n      假装有很多内容假装有很多内容 假装有很多内容 假装有很多内容 假装有很多内容\r\n      假装有很多内容 假装有很多内容假装有很多内容 假装有很多内容假装有很多内容\r\n      假装有很多内容 假装有很多内容 假装有很多内容 假装有很多内容\r\n      假装有很多内容假装有很多内容 假装有很多内容假装有很多内容 假装有很多内容\r\n      假装有很多内容 假装有很多内容 假装有很多内容 假装有很多内容假装有很多内容\r\n      假装有很多内容假装有很多内容 假装有很多内容 假装有很多内容 假装有很多内容\r\n      假装有很多内容 假装有很多内容假装有很多内容 假装有很多内容假装有很多内容\r\n      假装有很多内容 假装有很多内容 假装有很多内容 假装有很多内容\r\n      假装有很多内容假装有很多内容 假装有很多内容假装有很多内容 假装有很多内容\r\n      假装有很多内容 假装有很多内容 假装有很多内容 假装有很多内容假装有很多内容\r\n      假装有很多内容假装有很多内容 假装有很多内容 假装有很多内容 假装有很多内容\r\n      假装有很多内容 假装有很多内容假装有很多内容 假装有很多内容假装有很多内容\r\n      假装有很多内容 假装有很多内容 假装有很多内容 假装有很多内容\r\n      假装有很多内容假装有很多内容 假装有很多内容假装有很多内容 假装有很多内容\r\n      假装有很多内容 假装有很多内容 假装有很多内容 假装有很多内容假装有很多内容\r\n      假装有很多内容假装有很多内容 假装有很多内容 假装有很多内容 假装有很多内容\r\n      假装有很多内容 假装有很多内容假装有很多内容 假装有很多内容假装有很多内容\r\n      假装有很多内容 假装有很多内容 假装有很多内容 假装有很多内容\r\n      假装有很多内容假装有很多内容 假装有很多内容假装有很多内容 假装有很多内容\r\n      假装有很多内容 假装有很多内容 假装有很多内容 假装有很多内容假装有很多内容\r\n      假装有很多内容假装有很多内容 假装有很多内容 假装有很多内容 假装有很多内容\r\n      假装有很多内容 假装有很多内容假装有很多内容 假装有很多内容假装有很多内容\r\n      假装有很多内容 假装有很多内容 假装有很多内容 假装有很多内容\r\n      假装有很多内容假装有很多内容 假装有很多内容假装有很多内容 假装有很多内容\r\n      假装有很多内容 假装有很多内容 假装有很多内容 假装有很多内容假装有很多内容\r\n      假装有很多内容假装有很多内容 假装有很多内容 假装有很多内容 假装有很多内容\r\n      假装有很多内容 假装有很多内容假装有很多内容 假装有很多内容假装有很多内容\r\n      假装有很多内容 假装有很多内容 假装有很多内容 假装有很多内容\r\n      假装有很多内容假装有很多内容 假装有很多内容假装有很多内容 假装有很多内容\r\n      假装有很多内容 假装有很多内容 假装有很多内容 假装有很多内容假装有很多内容\r\n      假装有很多内容\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FileEdit;\r\n","import React from 'react';\r\nimport { BrowserRouter as Router, Route, Switch, Link } from 'react-router-dom';\r\nimport Login from './pages/Login';\r\nimport FileList from './pages/FileList';\r\nimport FileEdit from './pages/FileEdit/index.jsx';\r\n\r\nconst App = () => {\r\n    return (\r\n        <Router>\r\n            {/* <Routes> */}\r\n            {/* 注册路由 */}\r\n            <Route path=\"/login\" component={Login} />\r\n            <Route path=\"/fileList\" component={FileList} />\r\n            <Route path=\"/fileEdit\" component={FileEdit} />\r\n            {/* </Routes> */}\r\n        </Router>\r\n    )\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport App from './App';\r\nimport ReactDOM from 'react-dom/client';\r\n// import { RouterProvider } from 'react-router-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\n\r\nimport router from './router';\r\n\r\nReactDOM.createRoot(document.getElementById('root')).render(\r\n    <App></App>\r\n    // <BrowserRouter router={router}></BrowserRouter>\r\n)\r\n\r\n\r\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar jsx_runtime_1 = require(\"react/jsx-runtime\");\nvar react_1 = require(\"react\");\nrequire(\"./Model.css\");\nvar Modal = function (_a) {\n    var _b = _a.title, title = _b === void 0 ? \"默认标题\" : _b, _c = _a.isOpen, isOpen = _c === void 0 ? false : _c, _d = _a.onClose, onClose = _d === void 0 ? function () { } : _d, _e = _a.children, children = _e === void 0 ? (0, jsx_runtime_1.jsx)(jsx_runtime_1.Fragment, {}) : _e, style = _a.style;\n    console.log(\"child:\", children);\n    console.log(\"isOpen:\", isOpen);\n    (0, react_1.useEffect)(function () {\n        // 禁止背景滚动\n        if (isOpen) {\n            document.body.style.overflow = \"hidden\";\n        }\n        else {\n            document.body.style.overflow = \"\";\n        }\n    }, [isOpen]);\n    if (!isOpen)\n        return null;\n    // todo：验证这个组件是否会被销毁，如何销毁\n    // 暂时先不考虑销毁的事情\n    return ((0, jsx_runtime_1.jsx)(\"div\", { className: \"modal-backdrop\", children: (0, jsx_runtime_1.jsxs)(\"div\", { className: \"modal-content\", style: style, children: [(0, jsx_runtime_1.jsxs)(\"div\", { className: \"model-header\", children: [(0, jsx_runtime_1.jsx)(\"h3\", { children: title }), (0, jsx_runtime_1.jsx)(\"button\", { onClick: onClose, children: \"\\u5173\\u95ED\\u56FE\\u6807\" })] }), (0, jsx_runtime_1.jsx)(\"div\", { className: \"model-body\", children: children }), (0, jsx_runtime_1.jsx)(\"div\", { className: \"model-footer\" })] }) }));\n};\nexports.default = Modal;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = ToolBar;\nvar jsx_runtime_1 = require(\"react/jsx-runtime\");\nvar react_1 = require(\"react\");\nvar Modal_1 = __importDefault(require(\"./Modal\"));\nfunction ToolBar() {\n    var _a = (0, react_1.useState)(false), isModelOpen = _a[0], setModelOpen = _a[1];\n    var _b = (0, react_1.useState)(\"默认标题\"), title = _b[0], setTitle = _b[1];\n    var _c = (0, react_1.useState)({}), style = _c[0], setStyle = _c[1];\n    var insertLink = function () {\n        // 要打开一个弹框组件\n        setModelOpen(true);\n        setTitle(\"插入超链接\");\n    };\n    var pageSetting = function () {\n        // 要打开一个弹框组件\n        setModelOpen(true);\n        setTitle(\"页面设置\");\n    };\n    var findAndReplace = function () {\n        setModelOpen(true);\n        setTitle(\"查找替换\");\n        setStyle({ backgroundColor: \"red\", top: \"40px\", position: \"absolute\" });\n    };\n    var closeModal = function () {\n        setModelOpen(false);\n        setTitle(\"\");\n        setStyle({});\n    };\n    return ((0, jsx_runtime_1.jsxs)(\"div\", { children: [\"\\u91CC\\u9762\\u6709\\u5F88\\u591A\\u6309\\u94AE\", (0, jsx_runtime_1.jsx)(\"button\", { onClick: insertLink, children: \"\\u63D2\\u5165\\u8D85\\u94FE\\u63A5\" }), (0, jsx_runtime_1.jsx)(\"button\", { onClick: pageSetting, children: \"\\u9875\\u9762\\u8BBE\\u7F6E\" }), (0, jsx_runtime_1.jsx)(\"button\", { onClick: findAndReplace, children: \"\\u67E5\\u627E\\u66FF\\u6362\" }), (0, jsx_runtime_1.jsx)(Modal_1.default, { isOpen: isModelOpen, title: title, onClose: closeModal, style: style, children: (0, jsx_runtime_1.jsx)(\"div\", { children: \"\\u5185\\u90E8\\u5185\\u5BB9\" }) })] }));\n}\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createInsertTextActPair = exports.sendMsg = exports.sendOutMsgWithoutDealUndoRedo = void 0;\nvar socket_1 = __importDefault(require(\"./socket\"));\nvar undoRedoManager_1 = require(\"../undoRedoManager/undoRedoManager\");\n// 如果 prevCompressed 中的 msg 和 rMsg 被推断为 never[]，通常是因为 TypeScript 无法推断出这些属性的具体类型，或者你没有给它们赋予一个初始值\n// 要避免 never 类型的出现，可以通过以下几种方法：\n// 1. 明确声明数组的类型\nvar prevCompressed = {\n    msg: [],\n    rMsg: [],\n};\n/**\n * combine new message to old message\n * AB -> ABC -> ABCD\n * the new message is insert D, the old message is insert C\n * @param {*} newMsg\n * @param {*} oldMsg\n */\nvar combineMsg = function (newMsg, oldMsg) {\n    if (newMsg.idx === oldMsg.idx + oldMsg.len) {\n        // Insert text: A -> AB -> ABC\n        oldMsg.len += newMsg.len;\n        oldMsg.cnt += newMsg.cnt;\n        return true;\n    }\n    return false;\n};\n/**\n * 看是否是连续插入或者连续删除的操作\n * @param {*} msgList\n */\nvar isContinuedMsg = function (msgList) {\n    var msg = msgList[0];\n    if (msg.type === \"insert\") {\n        return true;\n    }\n};\n// Compress continuous insert/delete text message\nvar compressMsg = function (msgList, rMsgList) {\n    var msg = msgList[0];\n    if (prevCompressed.msg.length) {\n        combineMsg(msg, prevCompressed.msg[0]);\n    }\n    else {\n        prevCompressed.msg = msgList;\n        prevCompressed.rMsg = rMsgList;\n        setTimeout(function () {\n            flushMessage();\n        }, 5000);\n    }\n};\nvar flushMessage = function () {\n    sendOutMsg(prevCompressed.msg, prevCompressed.rMsg);\n    prevCompressed = {\n        msg: [],\n        rMsg: [],\n    };\n};\n/**\n * 真正使用socket发送消息的地方\n * @param {*} msgList\n */\nvar sendOutMsg = function (msgList, rMsgList) {\n    socket_1.default.emit(\"edit\", msgList);\n    (0, undoRedoManager_1.addUndo)(msgList, rMsgList);\n};\n// socket.emit和socket.broadcast.emit的区别：\n// socket.emit: 只发送给当前的客户端\n// socket.broadcast.emit: 发送给除当前客户端以外的所有其他客户端\nvar sendOutMsgWithoutDealUndoRedo = function (msgList) {\n    socket_1.default.emit(\"edit\", msgList);\n};\nexports.sendOutMsgWithoutDealUndoRedo = sendOutMsgWithoutDealUndoRedo;\n/**\n * 供外部使用\n * @param msgPairList:[{msg:xxx, rMsg: xxx}]\n * type MsgPair = { msg: Array<Message>; rMsg: Array<Message> };\n */\nvar sendMsg = function (msgPairList) {\n    var msgList = [];\n    var rMsgList = [];\n    var msg;\n    var rMsg;\n    for (var i = 0; i < msgPairList.length; i++) {\n        msg = msgPairList[i].msg;\n        rMsg = msgPairList[i].rMsg;\n        msgList.push(msg);\n        rMsgList.push(rMsg);\n    }\n    if (isContinuedMsg(msgList)) {\n        compressMsg(msgList, rMsgList);\n    }\n    else {\n        sendOutMsg(msgList, rMsgList);\n    }\n};\nexports.sendMsg = sendMsg;\nvar createInsertTextActPair = function (index, length, cnt) {\n    var act = createInsertTextAct(index, length, cnt);\n    var rAct = createDeleteTextAct(index, length, cnt);\n    return {\n        act: act,\n        rAct: rAct,\n    };\n};\nexports.createInsertTextActPair = createInsertTextActPair;\nvar createInsertTextAct = function (index, length, cnt) {\n    return {\n        idx: index,\n        len: length,\n        type: \"insert\",\n        cnt: cnt,\n    };\n};\nvar createDeleteTextAct = function (index, length, cnt) {\n    return {\n        idx: index,\n        len: length,\n        type: \"delete\",\n        cnt: cnt,\n    };\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.receiveMessage = void 0;\nvar receiveMessage = function (msg, originText) {\n    return processMessage(msg, originText);\n};\nexports.receiveMessage = receiveMessage;\nvar processMessage = function (msg, originText) {\n    var text = \"\";\n    if (msg.type === \"insert\") {\n        // 插入文字\n        text = originText.slice(0, msg.idx) + msg.cnt + originText.slice(msg.idx);\n    }\n    else if (msg.type === \"delete\") {\n        // 删除文字\n        text = originText.slice(0, msg.idx) + originText.slice(msg.idx + msg.len);\n    }\n    return text;\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar socket_io_client_1 = require(\"socket.io-client\");\n// 这里用http，不用ws没有问题吗？？\nvar socket = (0, socket_io_client_1.io)(\"http://localhost:4000\");\nexports.default = socket;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar jsx_runtime_1 = require(\"react/jsx-runtime\");\nvar react_1 = require(\"react\");\nvar react_router_dom_1 = require(\"react-router-dom\");\nvar request_1 = require(\"../../utils/request\");\nvar FileList = function () {\n    var _a = (0, react_1.useState)([]), fileList = _a[0], setFileList = _a[1];\n    var inputRef = (0, react_1.useRef)(null);\n    var inputRef2 = (0, react_1.useRef)(null);\n    var history = (0, react_router_dom_1.useHistory)();\n    var MAX_RETRIES = 3; // 文件分片上传最大重传次数\n    (0, react_1.useEffect)(function () {\n        // 向数据库请求文件列表\n        request_1.http\n            .get(\"/file/myList\")\n            .then(function (res) {\n            console.log(\"res:\", res);\n            console.log(\"document.cookie:\", document.cookie);\n            if (res.data.code === 200) {\n                setFileList(res.data.data);\n            }\n            else {\n                // 无效Token，跳转到登录页\n                history.replace(\"/login\");\n            }\n        })\n            .catch(function (err) {\n            console.log(\"err:\", err);\n        });\n    }, []);\n    var fileListRequest = function () {\n        request_1.http\n            .get(\"/file/myList\")\n            .then(function (res) {\n            console.log(\"res:\", res);\n            // console.log(\"document.cookie:\", document.cookie);\n            // if (res.data.code === 200) {\n            //   setFileList(res.data.data);\n            // } else {\n            //   // 无效Token，跳转到登录页\n            //   history.replace(\"/login\");\n            // }\n        })\n            .catch(function (err) {\n            console.log(\"err:\", err);\n        });\n    };\n    /**\n     * 发送请求，新建一个文件\n     * @param event\n     */\n    var createNewFile = function (event) {\n        console.log(\"event:\", event);\n        request_1.http\n            .post(\"/file/addFile\")\n            .then(function (res) {\n            console.log(\"res:\", res);\n        })\n            .catch(function (err) {\n            console.log(\"err:\", err);\n        });\n    };\n    var openFile = function () {\n        // todo：需要传递一下文档id\n        var url = \"/fileEdit\";\n        window.open(url);\n    };\n    /**\n     *\n     * @param isSlice 是否采用分片上传的形式\n     */\n    var onUploadClick = function (isSlice) {\n        var _a, _b;\n        // 'inputRef2.current' is possibly 'undefined'.ts(18048)\n        // (property) React.MutableRefObject<undefined>.current: undefined\n        if (isSlice) {\n            (_a = inputRef2 === null || inputRef2 === void 0 ? void 0 : inputRef2.current) === null || _a === void 0 ? void 0 : _a.click();\n        }\n        else {\n            (_b = inputRef === null || inputRef === void 0 ? void 0 : inputRef.current) === null || _b === void 0 ? void 0 : _b.click();\n        }\n    };\n    // 选择了一个文件的时候触发\n    var upload = function (event) {\n        var _a;\n        var file = (_a = event.target.files) === null || _a === void 0 ? void 0 : _a[0];\n        file && _upload(file);\n    };\n    var upload2 = function (event) {\n        var _a;\n        var file = (_a = event.target.files) === null || _a === void 0 ? void 0 : _a[0];\n        file && _upload2(file);\n    };\n    // 普通上传\n    var _upload = function (file) {\n        var form = new FormData();\n        form.append(\"file\", file);\n        // /api/local/entries\n        console.log(\"开始上传文档：\", new Date());\n        request_1.http\n            .post(\"/file/upload\", form)\n            .then(function (res) {\n            console.log(\"文件上传的结果res:\", res);\n            console.log(\"文档上传结束：\", new Date());\n        })\n            .catch(function (err) {\n            console.log(\"文件上传的结果err:\", err);\n        });\n    };\n    // 分片上传\n    var _upload2 = function (file) {\n        console.log(\"开始分片上传文档：\", new Date());\n        // 文档分块上传，自定义每个块的大小\n        var chunkSize = 1024 * 1024 * 400; // 1024*1024=1MB\n        // 块数\n        var totalChunks = Math.ceil(file.size / chunkSize);\n        var promises = [];\n        var uploadChunk = function (chunk, chunkNumber, totalChunks, retries) {\n            if (retries === void 0) { retries = 0; }\n            // append(name: string, value: string | Blob, filename?: string): void;\n            var formData = new FormData();\n            formData.append(\"file\", chunk, file.name);\n            formData.append(\"chunkNumber\", chunkNumber);\n            formData.append(\"totalChunks\", totalChunks);\n            // let promise = http.post(\"/file/upload2\", formData)\n            var promise = request_1.http\n                .post(\"/file/upload2\", formData)\n                .catch(function () {\n                // 捕获分片上传异常，并重新上传\n                if (retries < MAX_RETRIES) {\n                    console.error(\"Chunk \".concat(chunkNumber, \" upload failed. Retrying... Attempt \").concat(retries + 1));\n                    return uploadChunk(chunk, chunkNumber, totalChunks, retries + 1);\n                }\n                else {\n                    // 超过了重新上传的最大次数\n                    // 怎么处理.......\n                    console.error(\"Failed after \".concat(MAX_RETRIES, \" attempts\"));\n                    // 页面弹出一个框，提示用户重新上传（提供重新上传的按钮）\n                    // 但是后端怎么处理呢？？那些临时目录的文件需要删除吗？？\n                    throw new Error(\"文件上传超出了重新上传的最大次数\");\n                    // 在这里抛出error，在promise.all那里catch统一处理\n                }\n            });\n            return promise;\n        };\n        for (var start = 0; start < file.size; start += chunkSize) {\n            var end = Math.min(start + chunkSize, file.size);\n            var chunk = file.slice(start, end);\n            var chunkNumber = start / chunkSize + 1;\n            // 注意：请求是在每次调用uploadChunk时发出的\n            // 调用uploadChunk时，函数立即开始发送HTTP请求，并返回一个代表该请求的Promise\n            promises.push(uploadChunk(chunk, chunkNumber.toString(), totalChunks.toString()));\n        }\n        // 注意：Promise.all的作用是只是等待所有请求完成，而不是发送请求\n        Promise.all(promises)\n            .then(function (res) {\n            console.log(\"文件分片上传的结果：\", res);\n            console.log(\"文档分片上传结束：\", new Date());\n        })\n            .catch(function (err) {\n            // 分片上传发送异常。我们需捕获异常，并重新上传\n            // 注意：\n            //  可以通过Promise.all捕获整体异常，\n            //  但无法直接在Promise.all内重新上传失败的分片\n            //  可以单独在每个Promise内捕获异常，并实现重传逻辑\n            console.log(\"all err:\", err);\n        });\n    };\n    // let eTag =\n    var staticRequest = function () {\n        fetch(\"http://localhost:3000/file/image.jpg\", {\n            headers: {\n            // \"Cache-Control\": \"no-cache\", // 根据需要设置 Cache-Control 的值\n            },\n        }).then(function (res) {\n            console.log(\"图片请求：\", res);\n        });\n        // http.get(\"/file/image.jpg\").then((res) => {\n        //   console.log(\"res:\", res);\n        // });\n    };\n    return ((0, jsx_runtime_1.jsxs)(\"div\", { children: [(0, jsx_runtime_1.jsx)(\"button\", { onClick: staticRequest, children: \"\\u53D1\\u9001\\u4E00\\u4E2A\\u9759\\u6001\\u6587\\u4EF6\\u8BF7\\u6C42\" }), (0, jsx_runtime_1.jsx)(\"button\", { onClick: fileListRequest, children: \"fileList\\u8BF7\\u6C42\" }), (0, jsx_runtime_1.jsx)(\"button\", { onClick: createNewFile, children: \"\\u65B0\\u5EFA\\u4E00\\u4E2A\\u6587\\u4EF6\" }), (0, jsx_runtime_1.jsx)(\"button\", { onClick: function () {\n                    onUploadClick(false);\n                }, children: \"\\u4E0A\\u4F20\\u4E00\\u4E2A\\u6587\\u4EF6\" }), (0, jsx_runtime_1.jsx)(\"button\", { onClick: function () {\n                    onUploadClick(true);\n                }, children: \"\\u5206\\u7247\\u4E0A\\u4F20\\u4E00\\u4E2A\\u6587\\u4EF6\" }), (0, jsx_runtime_1.jsx)(\"input\", { type: \"file\", ref: inputRef, onChange: upload }), (0, jsx_runtime_1.jsx)(\"input\", { type: \"file\", ref: inputRef2, onChange: upload2 }), fileList.map(function (file) {\n                return ((0, jsx_runtime_1.jsx)(\"div\", { onClick: openFile, children: file.title }, file.docId));\n            })] }));\n};\nexports.default = FileList;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar jsx_runtime_1 = require(\"react/jsx-runtime\");\nvar react_1 = require(\"react\");\nvar react_2 = require(\"react\");\n// import { useNavigate } from 'react-router-dom';\nvar react_router_dom_1 = require(\"react-router-dom\");\n// useNavigate应该是6版本的属性??\nvar request_1 = require(\"../../utils/request\");\nvar Login = function () {\n    var _a = (0, react_2.useState)(''), userName = _a[0], setUserName = _a[1];\n    var _b = (0, react_2.useState)(''), password = _b[0], setPassword = _b[1];\n    var _c = (0, react_2.useState)(0), count = _c[0], setCount = _c[1];\n    // const navigate = useNavigate();\n    var history = (0, react_router_dom_1.useHistory)();\n    var login = function () {\n        // 1.发送请求到后台，获取token\n        request_1.http.post('/users/login', {\n            username: userName,\n            pwd: password\n        }).then(function (response) {\n            console.log(response);\n            if (response.data.code == 200) {\n                var token = response.data.token;\n                // console.log('cookie0：', document.cookie);\n                // document.cookie = `zdocs_token=${token}`;\n                document.cookie = \"\".concat(token);\n                // console.log('cookie1：', document.cookie);\n                // 2.跳转到fileList页面\n                history.replace('/fileList');\n            }\n            else {\n                alert('Invalid credentials');\n            }\n        }).catch(function (error) {\n            console.log(error);\n        });\n    };\n    var changeUserName = function (event) {\n        setUserName(event.target.value);\n    };\n    var changePassword = function (event) {\n        setPassword(event.target.value);\n    };\n    var timeoutId = -1;\n    // 开启一个定时器\n    var openSetTimeout = function () {\n        timeoutId = setTimeout(function () {\n            console.log('开启了一个定时器');\n        }, 1000);\n    };\n    // 关闭一个定时器\n    var clearSetTimeout = function () {\n        console.log('关闭一个定时器');\n        clearTimeout(timeoutId);\n    };\n    // let intervalId: number | NodeJS.Timeout = -1;\n    // 重要：如果需要在多个渲染周期之间持久化非状态变量的值，可以使用useRef\n    //       useRef创建的对象在组件的整个生命周期内保持不变，不会因重新渲染而重置\n    var intervalRef = (0, react_1.useRef)(-1);\n    var openSetInterval = function () {\n        intervalRef.current = setInterval(function () {\n            console.log(new Date());\n        }, 1000);\n    };\n    var clearSetInterval = function () {\n        clearInterval(intervalRef.current);\n    };\n    var addCount = function () {\n        setCount(count + 1);\n    };\n    return ((0, jsx_runtime_1.jsxs)(jsx_runtime_1.Fragment, { children: [(0, jsx_runtime_1.jsx)(\"div\", { children: \"\\u767B\\u5F55\\u9875\\u9762\" }), (0, jsx_runtime_1.jsx)(\"label\", { children: \"\\u7528\\u6237\\u540D\\uFF1A\" }), (0, jsx_runtime_1.jsx)(\"input\", { type: \"text\", value: userName, onChange: changeUserName }), (0, jsx_runtime_1.jsx)(\"br\", {}), (0, jsx_runtime_1.jsx)(\"label\", { children: \"\\u5BC6\\u7801\\uFF1A\" }), (0, jsx_runtime_1.jsx)(\"input\", { type: \"password\", value: password, onChange: changePassword }), (0, jsx_runtime_1.jsx)(\"br\", {}), (0, jsx_runtime_1.jsx)(\"button\", { onClick: login, children: \"\\u767B\\u5F55\" }), (0, jsx_runtime_1.jsx)(\"br\", {}), (0, jsx_runtime_1.jsx)(\"button\", { onClick: openSetTimeout, children: \"\\u5F00\\u542F\\u4E00\\u4E2AsetTimeout\\u5B9A\\u65F6\\u5668\" }), (0, jsx_runtime_1.jsx)(\"br\", {}), (0, jsx_runtime_1.jsx)(\"button\", { onClick: clearSetTimeout, children: \"\\u5173\\u95ED\\u4E00\\u4E2AsetTimeout\\u5B9A\\u65F6\\u5668\" }), (0, jsx_runtime_1.jsx)(\"br\", {}), (0, jsx_runtime_1.jsx)(\"button\", { onClick: openSetInterval, children: \"\\u5F00\\u542F\\u4E00\\u4E2AsetInterval\\u5B9A\\u65F6\\u5668\" }), (0, jsx_runtime_1.jsx)(\"br\", {}), (0, jsx_runtime_1.jsx)(\"button\", { onClick: clearSetInterval, children: \"\\u5173\\u95ED\\u4E00\\u4E2AsetInterval\\u5B9A\\u65F6\\u5668\" }), (0, jsx_runtime_1.jsx)(\"br\", {}), (0, jsx_runtime_1.jsx)(\"button\", { onClick: addCount, children: \"count++\" }), (0, jsx_runtime_1.jsxs)(\"div\", { children: [\"count: \", count] })] }));\n};\nexports.default = Login;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.undo = exports.addUndo = void 0;\nvar msgCenter_1 = require(\"../msg/msgCenter\");\nvar msgHandler_1 = require(\"../msg/msgHandler\");\nvar stack = [];\nvar index = 0;\nvar undo = function (originText) {\n    var action = stack[index];\n    index--;\n    var msgList = action.undo;\n    var text = (0, msgHandler_1.receiveMessage)(msgList[0], originText);\n    (0, msgCenter_1.sendOutMsgWithoutDealUndoRedo)(msgList);\n    return text;\n};\nexports.undo = undo;\nvar redo = function () {\n    //\n};\nvar addUndo = function (msgList, rMsgList) {\n    var action = {\n        undo: [],\n        redo: [],\n    };\n    action.undo = rMsgList;\n    action.redo = msgList;\n    stack.push(action);\n    index = stack.length - 1;\n};\nexports.addUndo = addUndo;\nvar addRedo = function () { };\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.http = void 0;\nvar axios_1 = __importDefault(require(\"axios\"));\n// 创建实例时配置默认值\nvar http = axios_1.default.create({\n    baseURL: process.env.REACT_APP_REQUEST_BASE_URL,\n    withCredentials: true,\n});\nexports.http = http;\n// 添加请求拦截器\nhttp.interceptors.request.use(function (config) {\n    // 在发送请求之前做些什么\n    console.log(\"config:\", config);\n    // 设置请求头中的Authorization字段\n    config.headers.setAuthorization(document.cookie);\n    // 查看withCredentials属性————结果是undefined——请求中未看到cookie\n    // 验证设置withCredential属性后，请求中是否会携带cookie————结果请求失败。报以下错误：\n    // Access to XMLHttpRequest at 'http://localhost:3000/file/myList' from origin 'http://localhost:8080' has been blocked by CORS policy:\n    // Response to preflight request doesn't pass access control check: The value of the 'Access-Control-Allow-Credentials' header in the response is '' which must be 'true' when the request's credentials mode is 'include'.\n    // The credentials mode of requests initiated by the XMLHttpRequest is controlled by the withCredentials attribute.\n    // 错误解释：如果在发起请求时设置了'withCredentials: true', 服务器必须在响应中设置'Access-Control-Allow-Credentials'为true。(表明服务器端允许客户端发送过来的请求中包含cookie)\n    // 验证结果：前端设置withCredential属性为true，以及后端设置'Access-Control-Allow-Credentials'为true后, 请求头中会携带cookie\n    // config.headers['Cache-Control'] = 'no-cache'; // 你可以根据需要设置具体的值\n    return config;\n}, function (error) {\n    // 对请求错误做些什么\n    return Promise.reject(error);\n});\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t792: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkmyreactapp\"] = self[\"webpackChunkmyreactapp\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [80], () => (__webpack_require__(5314)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","_editorRef$current","editorRef","useRef","_useState2","useState","previousContent","current","innerHTML","dmp","DiffMatchPatch","useEffect","socket","on","console","log","id","msgList","receiveMessage","getCaretCharacterOffset","event","caretOffset","sel","target","ownerDocument","defaultView","getSelection","rangeCount","getRangeAt","focusOffset","React","ToolBar","onClick","undo","contentEditable","onInput","diff","diff_main","actPair","createInsertTextActPair","length","msg","act","rMsg","rAct","sendMsg","className","ref","onMouseUp","Router","Route","path","component","Login","FileList","FileEdit","ReactDOM","document","getElementById","render","App","Object","defineProperty","exports","value","jsx_runtime_1","react_1","_a","_b","title","_c","isOpen","_d","onClose","_e","children","jsx","Fragment","style","body","overflow","jsxs","__importDefault","this","mod","__esModule","isModelOpen","setModelOpen","setTitle","setStyle","backgroundColor","top","position","Modal_1","default","sendOutMsgWithoutDealUndoRedo","socket_1","undoRedoManager_1","prevCompressed","sendOutMsg","rMsgList","emit","addUndo","msgPairList","i","push","type","isContinuedMsg","newMsg","oldMsg","idx","len","cnt","setTimeout","compressMsg","index","createInsertTextAct","createDeleteTextAct","originText","processMessage","text","slice","io","react_router_dom_1","request_1","fileList","setFileList","inputRef","inputRef2","history","useHistory","http","get","then","res","cookie","data","code","replace","catch","err","openFile","window","open","onUploadClick","isSlice","click","fetch","headers","post","onChange","file","files","form","FormData","append","Date","_upload","chunkSize","totalChunks","Math","ceil","size","promises","uploadChunk","chunk","chunkNumber","retries","formData","name","error","concat","Error","start","end","min","toString","Promise","all","_upload2","map","docId","react_2","userName","setUserName","password","setPassword","count","setCount","timeoutId","intervalRef","username","pwd","response","token","alert","clearTimeout","setInterval","clearInterval","msgCenter_1","msgHandler_1","stack","action","redo","create","baseURL","withCredentials","interceptors","request","use","config","setAuthorization","reject","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","module","__webpack_modules__","call","m","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","keys","every","key","splice","r","n","getter","d","a","definition","o","enumerable","g","globalThis","Function","e","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","forEach","bind","__webpack_exports__"],"sourceRoot":""}